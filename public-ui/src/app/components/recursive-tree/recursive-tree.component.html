<ng-container *ngIf="node">
  <app-db-spinner [loading]="loading && opened" [dots]="true"></app-db-spinner>
  <div class="children" *ngIf="node.children && opened">
    <div *ngFor="let child of node.children; let index = index" class="child">
      <span class="tree-row" [ngClass]="[child.group ? 'hasChildren':'noChildren' , subOpened && childIndex == index ? 'opened':'']"
        (click)="openUp(index,child,node.children)"><span>{{child.name}}{{index}}</span> <span class="blue-text">
          ({{child.count | number}})</span></span>
      <app-recursive-tree [childIndex]="index" [opened]="subOpened" [node]="child">
      </app-recursive-tree>
      {{subOpened}}
    </div>
  </div>
</ng-container>

<ng-container *ngIf="!node">
  no data found
</ng-container>